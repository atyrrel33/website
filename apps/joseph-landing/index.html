<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joseph | An App for Dreamers</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400&family=Cinzel:wght@400;500;600;700&family=EB+Garamond:ital,wght@0,400;0,500;1,400;1,500&display=swap" rel="stylesheet">
    
    <!-- GSAP for animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <link rel="stylesheet" href="cursor-star.css">
    <style>
        /* ============================================
           ROOT VARIABLES & SACRED COLOR PALETTE
        ============================================ */
        :root {
            --night-void: #0a0d14;
            --night-deep: #0f1922;
            --night-mid: #1a2634;
            --night-soft: #2d3f54;
            
            --gold-bright: #e2c990;
            --gold-primary: #c9a961;
            --gold-warm: #b8954d;
            --gold-dim: #8b7355;
            --gold-shadow: #5c4a35;
            
            --burgundy-bright: #a64d5a;
            --burgundy-primary: #8b3a4a;
            --burgundy-deep: #722f37;
            --burgundy-warm: #8b3a3a;
            --burgundy-glow: rgba(138, 58, 74, 0.6);
            --crimson-faded: #4a2020;
            
            --papyrus-light: #f5f0e6;
            --papyrus-aged: #e8e0d0;
            --ink-eternal: #1a1a1a;
            --sand-whisper: rgba(201, 169, 97, 0.03);
            
            --glow-gold: rgba(201, 169, 97, 0.4);
            --glow-star: rgba(255, 255, 255, 0.8);
            --shadow-deep: rgba(0, 0, 0, 0.7);
        }

        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }

        body {
            font-family: 'EB Garamond', Georgia, serif;
            background: var(--night-void);
            color: var(--papyrus-light);
            min-height: 100vh;
            overflow-x: hidden;
            cursor: none;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body::-webkit-scrollbar {
            width: 6px;
        }
        body::-webkit-scrollbar-track {
            background: var(--night-void);
        }
        body::-webkit-scrollbar-thumb {
            background: var(--gold-dim);
            border-radius: 3px;
        }

        /* CUSTOM CURSOR - BURGUNDY EMBER */
        .cursor-ember {
            position: fixed;
            width: 12px;
            height: 12px;
            pointer-events: none;
            z-index: 10000;
            transform: translate(-50%, -50%);
            transition: transform 0.15s ease;
        }

        .cursor-ember::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle, var(--burgundy-bright) 0%, var(--burgundy-deep) 60%, transparent 100%);
            border-radius: 50%;
            animation: ember-pulse 2s ease-in-out infinite;
        }

        .cursor-ember::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 30px;
            height: 30px;
            transform: translate(-50%, -50%);
            background: radial-gradient(circle, var(--burgundy-glow) 0%, transparent 70%);
            border-radius: 50%;
            animation: ember-glow 2s ease-in-out infinite;
            opacity: 0.7;
        }

        @keyframes ember-pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.8; }
        }

        @keyframes ember-glow {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; }
            50% { transform: translate(-50%, -50%) scale(1.3); opacity: 0.8; }
        }

        .cursor-trail {
            position: fixed;
            width: 40px;
            height: 40px;
            border: 1px solid var(--burgundy-deep);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
            transition: transform 0.2s ease-out, border-color 0.3s ease, width 0.3s ease, height 0.3s ease, opacity 0.3s ease;
            opacity: 0.4;
            box-shadow: 0 0 15px var(--burgundy-glow);
        }

        .cursor-ember.hovering {
            transform: translate(-50%, -50%) scale(1.5);
        }

        .cursor-ember.hovering::after {
            width: 50px;
            height: 50px;
        }

        .cursor-trail.hovering {
            width: 60px;
            height: 60px;
            border-color: var(--burgundy-primary);
            opacity: 0.6;
        }

        /* LOADING SCREEN */
        .loading-veil {
            position: fixed;
            inset: 0;
            background: var(--night-void);
            z-index: 9000;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 30px;
        }

        .loading-symbol {
            width: 60px;
            height: 60px;
            position: relative;
        }

        .loading-symbol::before,
        .loading-symbol::after {
            content: '';
            position: absolute;
            inset: 0;
            border: 2px solid transparent;
            border-radius: 50%;
        }

        .loading-symbol::before {
            border-top-color: var(--gold-primary);
            animation: spin 1.5s linear infinite;
        }

        .loading-symbol::after {
            border-bottom-color: var(--burgundy-primary);
            animation: spin 2s linear infinite reverse;
        }

        .loading-text {
            font-family: 'Cinzel', serif;
            font-size: 0.85rem;
            letter-spacing: 0.4em;
            text-transform: uppercase;
            color: var(--gold-dim);
            opacity: 0.7;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* MAIN CONTAINER */
        .landing-container {
            position: relative;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding: 40px 20px;
            opacity: 0;
            overflow: hidden;
        }

        /* CANVAS LAYERS */
        #stars-canvas,
        #dust-canvas,
        #dreams-canvas {
            position: fixed;
            inset: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        #stars-canvas { z-index: 1; }
        #dust-canvas { z-index: 2; opacity: 0.5; }
        #dreams-canvas { z-index: 3; opacity: 0.4; }

        /* BACKGROUND LAYERS */
        .bg-gradient {
            position: fixed;
            inset: 0;
            background: 
                radial-gradient(ellipse 80% 60% at 50% 0%, var(--night-mid) 0%, transparent 60%),
                radial-gradient(ellipse 60% 40% at 20% 100%, var(--crimson-faded) 0%, transparent 50%),
                radial-gradient(ellipse 50% 30% at 80% 80%, rgba(45, 63, 84, 0.5) 0%, transparent 50%),
                linear-gradient(180deg, var(--night-deep) 0%, var(--night-void) 100%);
            z-index: 0;
        }

        .bg-texture {
            position: fixed;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
            opacity: 0.04;
            z-index: 4;
            pointer-events: none;
        }

        .bg-vignette {
            position: fixed;
            inset: 0;
            background: radial-gradient(ellipse at center, transparent 0%, transparent 40%, var(--night-void) 100%);
            z-index: 5;
            pointer-events: none;
        }

        .bg-papyrus {
            position: fixed;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cfilter id='paper'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.04' numOctaves='5' result='noise'/%3E%3CfeDiffuseLighting in='noise' lighting-color='%23f5f0e6' surfaceScale='2'%3E%3CfeDistantLight azimuth='45' elevation='60'/%3E%3C/feDiffuseLighting%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23paper)'/%3E%3C/svg%3E");
            opacity: 0.015;
            z-index: 4;
            pointer-events: none;
            mix-blend-mode: overlay;
        }

        /* FLOATING DREAM ORBS */
        .dream-orbs {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 2;
            overflow: hidden;
        }

        .dream-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(1px);
            animation: float-dream linear infinite;
        }

        @keyframes float-dream {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* CONTENT WRAPPER */
        .content-wrapper {
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            max-width: 800px;
            gap: 50px;
        }

        /* ORNAMENTS */
        .ornament-top,
        .ornament-bottom {
            position: relative;
            width: 200px;
            height: 30px;
            opacity: 0;
        }

        .ornament-top svg,
        .ornament-bottom svg {
            width: 100%;
            height: 100%;
            fill: none;
            stroke: var(--gold-dim);
            stroke-width: 1;
        }

        .ornament-bottom {
            transform: rotate(180deg);
        }

        /* TITLE SECTION */
        .title-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            position: relative;
        }

        .title-section::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 400px;
            height: 200px;
            transform: translate(-50%, -50%);
            background: radial-gradient(ellipse, rgba(201, 169, 97, 0.08) 0%, transparent 70%);
            animation: title-breathe 4s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes title-breathe {
            0%, 100% { opacity: 0.5; transform: translate(-50%, -50%) scale(1); }
            50% { opacity: 1; transform: translate(-50%, -50%) scale(1.1); }
        }

        .main-title {
            font-family: 'Cinzel', serif;
            font-size: clamp(4rem, 15vw, 10rem);
            font-weight: 400;
            letter-spacing: 0.25em;
            text-transform: uppercase;
            color: transparent;
            background: linear-gradient(
                180deg,
                var(--gold-bright) 0%,
                var(--gold-primary) 30%,
                var(--gold-warm) 60%,
                var(--gold-dim) 100%
            );
            -webkit-background-clip: text;
            background-clip: text;
            text-shadow: 
                0 0 60px rgba(201, 169, 97, 0.3),
                0 0 120px rgba(201, 169, 97, 0.1);
            position: relative;
            opacity: 0;
            transform: translateY(30px);
        }

        .main-title::before {
            content: 'JOSEPH';
            position: absolute;
            inset: 0;
            background: linear-gradient(
                90deg,
                transparent 0%,
                rgba(255, 255, 255, 0.4) 45%,
                rgba(255, 255, 255, 0.6) 50%,
                rgba(255, 255, 255, 0.4) 55%,
                transparent 100%
            );
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            background-size: 200% 100%;
            animation: shimmer 4s ease-in-out infinite;
            animation-delay: 2s;
        }

        @keyframes shimmer {
            0%, 100% { background-position: 200% 0; }
            50% { background-position: -200% 0; }
        }

        .tagline {
            font-family: 'EB Garamond', serif;
            font-size: clamp(1rem, 3vw, 1.4rem);
            font-style: italic;
            font-weight: 400;
            letter-spacing: 0.35em;
            text-transform: lowercase;
            color: var(--gold-dim);
            opacity: 0;
            transform: translateY(20px);
            animation: tagline-glow 3s ease-in-out infinite;
            animation-play-state: paused;
        }

        @keyframes tagline-glow {
            0%, 100% { text-shadow: 0 0 10px transparent; }
            50% { text-shadow: 0 0 20px rgba(201, 169, 97, 0.3); }
        }

        /* EPIGRAPH */
        .epigraph-container {
            max-width: 650px;
            padding: 40px;
            position: relative;
            opacity: 0;
        }

        .epigraph-container::before,
        .epigraph-container::after {
            content: '';
            position: absolute;
            width: 60px;
            height: 60px;
            border-color: var(--gold-dim);
            border-style: solid;
            opacity: 0.4;
            transition: opacity 0.5s ease, width 0.5s ease, height 0.5s ease;
        }

        .epigraph-container::before {
            top: 0;
            left: 0;
            border-width: 1px 0 0 1px;
        }

        .epigraph-container::after {
            bottom: 0;
            right: 0;
            border-width: 0 1px 1px 0;
        }

        .epigraph-container:hover::before,
        .epigraph-container:hover::after {
            opacity: 0.7;
            width: 80px;
            height: 80px;
        }

        .epigraph-quote {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(1.1rem, 2.5vw, 1.5rem);
            font-weight: 300;
            font-style: italic;
            line-height: 1.9;
            color: var(--papyrus-aged);
            margin-bottom: 20px;
        }

        .epigraph-quote .char {
            opacity: 0;
            display: inline-block;
            transition: text-shadow 0.3s ease;
        }

        .epigraph-quote .char.revealed {
            animation: char-glow 0.5s ease forwards;
        }

        @keyframes char-glow {
            0% { opacity: 0; text-shadow: 0 0 10px var(--gold-primary); }
            100% { opacity: 1; text-shadow: none; }
        }

        .epigraph-reference {
            font-family: 'Cinzel', serif;
            font-size: 0.85rem;
            letter-spacing: 0.2em;
            color: var(--gold-dim);
            opacity: 0;
        }

        /* PORTAL BUTTON */
        .portal-container {
            position: relative;
            opacity: 0;
            transform: translateY(30px);
        }

        .portal-button {
            position: relative;
            font-family: 'Cinzel', serif;
            font-size: 0.9rem;
            letter-spacing: 0.4em;
            text-transform: uppercase;
            color: var(--gold-primary);
            background: transparent;
            border: 1px solid var(--gold-dim);
            padding: 22px 55px;
            cursor: none;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .portal-button::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, var(--gold-dim) 0%, var(--gold-shadow) 100%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .portal-button::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, var(--gold-primary) 0%, transparent 70%);
            transform: translate(-50%, -50%);
            transition: width 0.6s ease, height 0.6s ease;
            opacity: 0.3;
        }

        .portal-button:hover {
            border-color: var(--gold-primary);
            color: var(--papyrus-light);
            box-shadow: 
                0 0 30px rgba(201, 169, 97, 0.2),
                inset 0 0 30px rgba(201, 169, 97, 0.1);
        }

        .portal-button:hover::before {
            opacity: 0.2;
        }

        .portal-button:hover::after {
            width: 300px;
            height: 300px;
        }

        .portal-button span {
            position: relative;
            z-index: 1;
        }

        .portal-ripples {
            position: absolute;
            inset: -50px;
            pointer-events: none;
            overflow: hidden;
        }

        .ripple {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 1px solid var(--gold-dim);
            border-radius: 50%;
            opacity: 0;
            animation: ripple-expand 3s ease-out infinite;
        }

        .ripple:nth-child(1) { animation-delay: 0s; }
        .ripple:nth-child(2) { animation-delay: 1s; }
        .ripple:nth-child(3) { animation-delay: 2s; }

        @keyframes ripple-expand {
            0% {
                width: 60px;
                height: 60px;
                opacity: 0.6;
            }
            100% {
                width: 200px;
                height: 200px;
                opacity: 0;
            }
        }

        /* AUDIO CONTROLS */
        .audio-controls {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 100;
            display: flex;
            align-items: center;
            gap: 12px;
            background: rgba(15, 25, 34, 0.85);
            padding: 12px 18px;
            border-radius: 30px;
            border: 1px solid rgba(139, 115, 85, 0.3);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .audio-controls:hover {
            border-color: rgba(139, 115, 85, 0.6);
            box-shadow: 0 0 25px rgba(201, 169, 97, 0.1);
        }

        .audio-toggle {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: transparent;
            border: 1px solid var(--gold-dim);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: none;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .audio-toggle:hover {
            border-color: var(--gold-primary);
            background: rgba(201, 169, 97, 0.1);
        }

        .audio-toggle svg {
            width: 16px;
            height: 16px;
            fill: var(--gold-primary);
            transition: fill 0.3s ease;
        }

        .audio-toggle.muted svg {
            fill: var(--gold-dim);
        }

        .volume-slider-container {
            display: flex;
            align-items: center;
            gap: 8px;
            width: 100px;
        }

        .volume-slider {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 4px;
            background: var(--night-soft);
            border-radius: 2px;
            outline: none;
            cursor: none;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 14px;
            height: 14px;
            background: var(--gold-primary);
            border-radius: 50%;
            cursor: none;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .volume-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 0 10px var(--glow-gold);
        }

        .volume-slider::-moz-range-thumb {
            width: 14px;
            height: 14px;
            background: var(--gold-primary);
            border-radius: 50%;
            border: none;
            cursor: none;
        }

        .volume-icon {
            width: 14px;
            height: 14px;
            fill: var(--gold-dim);
            flex-shrink: 0;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .main-title {
                letter-spacing: 0.15em;
            }

            .tagline {
                letter-spacing: 0.2em;
            }

            .epigraph-container {
                padding: 30px 20px;
            }

            .epigraph-container::before,
            .epigraph-container::after {
                width: 40px;
                height: 40px;
            }

            .portal-button {
                padding: 18px 40px;
                font-size: 0.8rem;
                letter-spacing: 0.3em;
            }

            .audio-controls {
                bottom: 20px;
                right: 20px;
                padding: 10px 14px;
            }

            .volume-slider-container {
                width: 70px;
            }
        }

        @media (max-width: 480px) {
            .content-wrapper {
                gap: 35px;
            }

            .ornament-top,
            .ornament-bottom {
                width: 150px;
            }

            .audio-controls {
                right: 50%;
                transform: translateX(50%);
            }
        }

        @media (hover: none) and (pointer: coarse) {
            body {
                cursor: auto;
            }
            .cursor-ember,
            .cursor-trail {
                display: none;
            }
            .portal-button,
            .audio-toggle,
            .volume-slider {
                cursor: pointer;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Veil -->
    <div class="loading-veil" id="loadingVeil">
        <div class="loading-symbol"></div>
        <div class="loading-text">Preparing the Story</div>
    </div>

    <!-- Custom Cursor - Burgundy Ember -->
    <div class="cursor-ember" id="cursorEmber"></div>
    <div class="cursor-trail" id="cursorTrail"></div>

    <!-- Background Layers -->
    <div class="bg-gradient"></div>
    <canvas id="stars-canvas"></canvas>
    <canvas id="dust-canvas"></canvas>
    <canvas id="dreams-canvas"></canvas>
    <div class="dream-orbs" id="dreamOrbs"></div>
    <div class="bg-texture"></div>
    <div class="bg-papyrus"></div>
    <div class="bg-vignette"></div>

    <!-- Main Container -->
    <main class="landing-container" id="landingContainer">
        <div class="content-wrapper">
            
            <!-- Top Ornament -->
            <div class="ornament-top">
                <svg viewBox="0 0 200 30" preserveAspectRatio="xMidYMid meet">
                    <path d="M0 15 L30 15 M40 15 Q50 5 60 15 T80 15 M90 15 L100 8 L100 22 L100 15 L110 15 M120 15 Q130 25 140 15 T160 15 M170 15 L200 15" stroke-linecap="round"/>
                    <circle cx="100" cy="15" r="3" fill="currentColor" stroke="none"/>
                </svg>
            </div>

            <!-- Title Section -->
            <div class="title-section">
                <h1 class="main-title">Joseph</h1>
                <p class="tagline">an app for dreamers</p>
            </div>

            <!-- Epigraph -->
            <blockquote class="epigraph-container">
                <p class="epigraph-quote" id="epigraphQuote">
                    "You meant evil against me, but God meant it for good, to bring it about that many people should be kept alive."
                </p>
                <cite class="epigraph-reference">â€” Genesis 50:20</cite>
            </blockquote>

            <!-- Portal Button -->
            <div class="portal-container">
                <button class="portal-button" id="portalButton">
                    <span>Enter the Story</span>
                    <div class="portal-ripples">
                        <div class="ripple"></div>
                        <div class="ripple"></div>
                        <div class="ripple"></div>
                    </div>
                </button>
            </div>

            <!-- Bottom Ornament -->
            <div class="ornament-bottom">
                <svg viewBox="0 0 200 30" preserveAspectRatio="xMidYMid meet">
                    <path d="M0 15 L30 15 M40 15 Q50 5 60 15 T80 15 M90 15 L100 8 L100 22 L100 15 L110 15 M120 15 Q130 25 140 15 T160 15 M170 15 L200 15" stroke-linecap="round"/>
                    <circle cx="100" cy="15" r="3" fill="currentColor" stroke="none"/>
                </svg>
            </div>

        </div>
    </main>

    <!-- Audio Controls -->
    <div class="audio-controls">
        <button class="audio-toggle" id="audioToggle" title="Mute/Unmute">
            <svg id="speakerIcon" viewBox="0 0 24 24">
                <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
            </svg>
        </button>
        <div class="volume-slider-container">
            <svg class="volume-icon" viewBox="0 0 24 24">
                <path d="M3 9v6h4l5 5V4L7 9H3z"/>
            </svg>
            <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="40">
        </div>
    </div>

    <!-- 
        =====================================================
        MUSIC SETUP INSTRUCTIONS:
        =====================================================
        1. Rename your music file to: ambient-music.mp3
        2. Place it in the SAME FOLDER as this HTML file
        3. Upload BOTH files to your GitHub repository
        
        The music will automatically play when the page loads!
        =====================================================
    -->
    <audio id="backgroundAudio" loop preload="auto">
        <source src="ambient-music.mp3" type="audio/mpeg">
    </audio>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            initCursor();
            initStars();
            initDust();
            initDreams();
            createDreamOrbs();
            initAudio();
            setTimeout(startEntranceSequence, 800);
        });

        // CUSTOM CURSOR
        function initCursor() {
            const cursorEmber = document.getElementById('cursorEmber');
            const cursorTrail = document.getElementById('cursorTrail');
            const interactiveElements = document.querySelectorAll('button, a, label, input, [data-cursor-hover]');

            let mouseX = 0, mouseY = 0;
            let trailX = 0, trailY = 0;

            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
                cursorEmber.style.left = mouseX + 'px';
                cursorEmber.style.top = mouseY + 'px';
            });

            function animateTrail() {
                trailX += (mouseX - trailX) * 0.12;
                trailY += (mouseY - trailY) * 0.12;
                cursorTrail.style.left = trailX + 'px';
                cursorTrail.style.top = trailY + 'px';
                requestAnimationFrame(animateTrail);
            }
            animateTrail();

            interactiveElements.forEach(el => {
                el.addEventListener('mouseenter', () => {
                    cursorEmber.classList.add('hovering');
                    cursorTrail.classList.add('hovering');
                });
                el.addEventListener('mouseleave', () => {
                    cursorEmber.classList.remove('hovering');
                    cursorTrail.classList.remove('hovering');
                });
            });

            document.addEventListener('mouseleave', () => {
                cursorEmber.style.opacity = '0';
                cursorTrail.style.opacity = '0';
            });
            document.addEventListener('mouseenter', () => {
                cursorEmber.style.opacity = '1';
                cursorTrail.style.opacity = '0.4';
            });
        }

        // ENHANCED STARS WITH MORE SHOOTING STARS
        function initStars() {
            const canvas = document.getElementById('stars-canvas');
            const ctx = canvas.getContext('2d');
            let stars = [];
            let shootingStars = [];

            function resize() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                createStars();
            }

            function createStars() {
                stars = [];
                const numStars = Math.floor((canvas.width * canvas.height) / 6000);
                
                for (let i = 0; i < numStars; i++) {
                    stars.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height,
                        radius: Math.random() * 1.5 + 0.2,
                        opacity: Math.random() * 0.8 + 0.2,
                        twinkleSpeed: Math.random() * 0.03 + 0.005,
                        twinklePhase: Math.random() * Math.PI * 2,
                        isPulsing: Math.random() > 0.9,
                        pulsePhase: Math.random() * Math.PI * 2
                    });
                }
            }

            function createShootingStar() {
                if (Math.random() > 0.985 && shootingStars.length < 4) {
                    shootingStars.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height * 0.5,
                        length: Math.random() * 100 + 50,
                        speed: Math.random() * 10 + 5,
                        angle: Math.PI / 4 + (Math.random() - 0.5) * 0.4,
                        opacity: 1,
                        life: 1,
                        isGolden: Math.random() > 0.6
                    });
                }
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                stars.forEach(star => {
                    star.twinklePhase += star.twinkleSpeed;
                    let twinkle = 0.5 + Math.sin(star.twinklePhase) * 0.5;
                    
                    if (star.isPulsing) {
                        star.pulsePhase += 0.02;
                        twinkle *= (0.5 + Math.sin(star.pulsePhase) * 0.5);
                    }
                    
                    const currentOpacity = star.opacity * twinkle;
                    
                    ctx.beginPath();
                    ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                    ctx.fillStyle = 'rgba(255, 255, 255, ' + currentOpacity + ')';
                    ctx.fill();
                    
                    if (star.radius > 1 || star.isPulsing) {
                        ctx.beginPath();
                        ctx.arc(star.x, star.y, star.radius * 4, 0, Math.PI * 2);
                        ctx.fillStyle = 'rgba(201, 169, 97, ' + (currentOpacity * 0.15) + ')';
                        ctx.fill();
                    }
                });

                createShootingStar();
                
                shootingStars = shootingStars.filter(star => {
                    star.x += Math.cos(star.angle) * star.speed;
                    star.y += Math.sin(star.angle) * star.speed;
                    star.life -= 0.015;
                    star.opacity = star.life;
                    
                    if (star.life > 0) {
                        const gradient = ctx.createLinearGradient(
                            star.x, star.y,
                            star.x - Math.cos(star.angle) * star.length,
                            star.y - Math.sin(star.angle) * star.length
                        );
                        
                        if (star.isGolden) {
                            gradient.addColorStop(0, 'rgba(255, 255, 255, ' + star.opacity + ')');
                            gradient.addColorStop(0.2, 'rgba(226, 201, 144, ' + (star.opacity * 0.8) + ')');
                            gradient.addColorStop(0.5, 'rgba(201, 169, 97, ' + (star.opacity * 0.4) + ')');
                            gradient.addColorStop(1, 'rgba(201, 169, 97, 0)');
                        } else {
                            gradient.addColorStop(0, 'rgba(255, 255, 255, ' + star.opacity + ')');
                            gradient.addColorStop(0.3, 'rgba(200, 200, 255, ' + (star.opacity * 0.5) + ')');
                            gradient.addColorStop(1, 'rgba(255, 255, 255, 0)');
                        }
                        
                        ctx.beginPath();
                        ctx.moveTo(star.x, star.y);
                        ctx.lineTo(
                            star.x - Math.cos(star.angle) * star.length,
                            star.y - Math.sin(star.angle) * star.length
                        );
                        ctx.strokeStyle = gradient;
                        ctx.lineWidth = star.isGolden ? 2.5 : 1.5;
                        ctx.stroke();
                        
                        ctx.beginPath();
                        ctx.arc(star.x, star.y, 3, 0, Math.PI * 2);
                        ctx.fillStyle = 'rgba(255, 255, 255, ' + (star.opacity * 0.8) + ')';
                        ctx.fill();
                        
                        return true;
                    }
                    return false;
                });

                requestAnimationFrame(animate);
            }

            window.addEventListener('resize', resize);
            resize();
            animate();
        }

        // DUST PARTICLES
        function initDust() {
            const canvas = document.getElementById('dust-canvas');
            const ctx = canvas.getContext('2d');
            let particles = [];

            function resize() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                createParticles();
            }

            function createParticles() {
                particles = [];
                const numParticles = Math.floor((canvas.width * canvas.height) / 15000);
                
                for (let i = 0; i < numParticles; i++) {
                    particles.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height,
                        radius: Math.random() * 2 + 0.5,
                        opacity: Math.random() * 0.4 + 0.1,
                        speedX: (Math.random() - 0.5) * 0.4,
                        speedY: (Math.random() - 0.5) * 0.2 - 0.15,
                        wobble: Math.random() * Math.PI * 2,
                        wobbleSpeed: Math.random() * 0.02 + 0.008,
                        wobbleAmount: Math.random() * 0.5 + 0.2
                    });
                }
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                particles.forEach(p => {
                    p.wobble += p.wobbleSpeed;
                    p.x += p.speedX + Math.sin(p.wobble) * p.wobbleAmount;
                    p.y += p.speedY;
                    
                    if (p.x < -10) p.x = canvas.width + 10;
                    if (p.x > canvas.width + 10) p.x = -10;
                    if (p.y < -10) p.y = canvas.height + 10;
                    if (p.y > canvas.height + 10) p.y = -10;
                    
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                    ctx.fillStyle = 'rgba(201, 169, 97, ' + p.opacity + ')';
                    ctx.fill();
                });

                requestAnimationFrame(animate);
            }

            window.addEventListener('resize', resize);
            resize();
            animate();
        }

        // ETHEREAL WISPS
        function initDreams() {
            const canvas = document.getElementById('dreams-canvas');
            const ctx = canvas.getContext('2d');
            let wisps = [];

            function resize() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                createWisps();
            }

            function createWisps() {
                wisps = [];
                const numWisps = 8;
                
                for (let i = 0; i < numWisps; i++) {
                    wisps.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height,
                        radius: Math.random() * 100 + 50,
                        opacity: Math.random() * 0.03 + 0.01,
                        speedX: (Math.random() - 0.5) * 0.3,
                        speedY: (Math.random() - 0.5) * 0.2,
                        pulse: Math.random() * Math.PI * 2,
                        pulseSpeed: Math.random() * 0.01 + 0.005,
                        isGolden: Math.random() > 0.5
                    });
                }
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                wisps.forEach(w => {
                    w.pulse += w.pulseSpeed;
                    w.x += w.speedX;
                    w.y += w.speedY;
                    
                    if (w.x < -w.radius || w.x > canvas.width + w.radius) w.speedX *= -1;
                    if (w.y < -w.radius || w.y > canvas.height + w.radius) w.speedY *= -1;
                    
                    const currentRadius = w.radius * (0.8 + Math.sin(w.pulse) * 0.2);
                    const currentOpacity = w.opacity * (0.7 + Math.sin(w.pulse) * 0.3);
                    
                    const gradient = ctx.createRadialGradient(w.x, w.y, 0, w.x, w.y, currentRadius);
                    
                    if (w.isGolden) {
                        gradient.addColorStop(0, 'rgba(201, 169, 97, ' + currentOpacity + ')');
                        gradient.addColorStop(0.5, 'rgba(201, 169, 97, ' + (currentOpacity * 0.3) + ')');
                        gradient.addColorStop(1, 'rgba(201, 169, 97, 0)');
                    } else {
                        gradient.addColorStop(0, 'rgba(139, 58, 74, ' + currentOpacity + ')');
                        gradient.addColorStop(0.5, 'rgba(139, 58, 74, ' + (currentOpacity * 0.3) + ')');
                        gradient.addColorStop(1, 'rgba(139, 58, 74, 0)');
                    }
                    
                    ctx.beginPath();
                    ctx.arc(w.x, w.y, currentRadius, 0, Math.PI * 2);
                    ctx.fillStyle = gradient;
                    ctx.fill();
                });

                requestAnimationFrame(animate);
            }

            window.addEventListener('resize', resize);
            resize();
            animate();
        }

        // CSS DREAM ORBS
        function createDreamOrbs() {
            const container = document.getElementById('dreamOrbs');
            const numOrbs = 20;
            
            for (let i = 0; i < numOrbs; i++) {
                const orb = document.createElement('div');
                orb.className = 'dream-orb';
                
                const size = Math.random() * 4 + 2;
                const isGolden = Math.random() > 0.4;
                const duration = Math.random() * 20 + 15;
                const delay = Math.random() * 20;
                
                orb.style.cssText = 
                    'left: ' + (Math.random() * 100) + '%;' +
                    'width: ' + size + 'px;' +
                    'height: ' + size + 'px;' +
                    'background: ' + (isGolden ? 
                        'radial-gradient(circle, rgba(201, 169, 97, 0.6), rgba(201, 169, 97, 0))' : 
                        'radial-gradient(circle, rgba(139, 58, 74, 0.5), rgba(139, 58, 74, 0))') + ';' +
                    'animation-duration: ' + duration + 's;' +
                    'animation-delay: ' + delay + 's;';
                
                container.appendChild(orb);
            }
        }

        // AUDIO SYSTEM
        function initAudio() {
            const audio = document.getElementById('backgroundAudio');
            const audioToggle = document.getElementById('audioToggle');
            const volumeSlider = document.getElementById('volumeSlider');
            const speakerIcon = document.getElementById('speakerIcon');
            
            audio.volume = volumeSlider.value / 100;
            
            const mutedIcon = '<path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>';
            const unmutedIcon = '<path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>';
            
            function attemptAutoPlay() {
                audio.play().then(() => {
                    audioToggle.classList.remove('muted');
                    speakerIcon.innerHTML = unmutedIcon;
                }).catch(() => {
                    audioToggle.classList.add('muted');
                    speakerIcon.innerHTML = mutedIcon;
                    
                    document.addEventListener('click', function startAudio() {
                        audio.play().then(() => {
                            audioToggle.classList.remove('muted');
                            speakerIcon.innerHTML = unmutedIcon;
                        });
                        document.removeEventListener('click', startAudio);
                    }, { once: true });
                });
            }
            
            attemptAutoPlay();
            
            audioToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                if (audio.paused) {
                    audio.play();
                    audioToggle.classList.remove('muted');
                    speakerIcon.innerHTML = unmutedIcon;
                } else {
                    audio.pause();
                    audioToggle.classList.add('muted');
                    speakerIcon.innerHTML = mutedIcon;
                }
            });
            
            volumeSlider.addEventListener('input', () => {
                audio.volume = volumeSlider.value / 100;
                if (volumeSlider.value == 0) {
                    speakerIcon.innerHTML = mutedIcon;
                } else if (!audio.paused) {
                    speakerIcon.innerHTML = unmutedIcon;
                }
            });
        }

        // ENTRANCE SEQUENCE
        function startEntranceSequence() {
            const loadingVeil = document.getElementById('loadingVeil');
            const landingContainer = document.getElementById('landingContainer');
            const mainTitle = document.querySelector('.main-title');
            const tagline = document.querySelector('.tagline');
            const ornamentTop = document.querySelector('.ornament-top');
            const ornamentBottom = document.querySelector('.ornament-bottom');
            const epigraphContainer = document.querySelector('.epigraph-container');
            const epigraphQuote = document.getElementById('epigraphQuote');
            const epigraphReference = document.querySelector('.epigraph-reference');
            const portalContainer = document.querySelector('.portal-container');

            const quoteText = epigraphQuote.textContent;
            epigraphQuote.innerHTML = quoteText.split('').map(char => 
                char === ' ' ? ' ' : '<span class="char">' + char + '</span>'
            ).join('');
            const chars = epigraphQuote.querySelectorAll('.char');

            const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });

            tl.to(loadingVeil, {
                opacity: 0,
                duration: 1,
                onComplete: () => loadingVeil.style.display = 'none'
            });

            tl.to(landingContainer, { opacity: 1, duration: 0.5 }, '-=0.5');
            tl.to(ornamentTop, { opacity: 0.6, duration: 1.2 }, '-=0.3');
            tl.to(mainTitle, { opacity: 1, y: 0, duration: 1.5, ease: 'power4.out' }, '-=0.8');
            tl.to(tagline, {
                opacity: 1,
                y: 0,
                duration: 1,
                onComplete: () => { tagline.style.animationPlayState = 'running'; }
            }, '-=0.8');
            tl.to(epigraphContainer, { opacity: 1, duration: 0.8 }, '-=0.3');
            tl.to(chars, {
                opacity: 1,
                duration: 0.03,
                stagger: 0.025,
                ease: 'none',
                onStart: function() {
                    chars.forEach((char, i) => {
                        setTimeout(() => { char.classList.add('revealed'); }, i * 25);
                    });
                }
            }, '-=0.2');
            tl.to(epigraphReference, { opacity: 1, duration: 0.8 }, '-=0.3');
            tl.to(portalContainer, { opacity: 1, y: 0, duration: 1 }, '-=0.5');
            tl.to(ornamentBottom, { opacity: 0.6, duration: 1.2 }, '-=0.8');
        }

        // PORTAL BUTTON
        document.getElementById('portalButton').addEventListener('click', () => {
            const flash = document.createElement('div');
            flash.style.cssText = 'position: fixed; inset: 0; background: radial-gradient(circle at center, rgba(201, 169, 97, 0.4) 0%, transparent 70%); z-index: 1000; pointer-events: none;';
            document.body.appendChild(flash);

            gsap.fromTo(flash, 
                { opacity: 0 },
                { 
                    opacity: 1, 
                    duration: 0.3,
                    onComplete: () => {
                        gsap.to(flash, {
                            opacity: 0,
                            duration: 0.5,
                            delay: 0.2,
                            onComplete: () => flash.remove()
                        });
                    }
                }
            );
            window.location.href = './joseph-app';
        });
    </script>
    <script src="cursor-star.js"></script>
</body>
</html>
