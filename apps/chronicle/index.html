<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chronicle - A Sacred Workspace</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --stone-dark: #1a1410;
            --stone-base: #2d2419;
            --maroon-deep: #4a1f1f;
            --amber-glow: #d4a574;
            --gold-accent: #b8945f;
            --ember-bright: #ff9955;
            --flame-core: #ffcc88;
        }

        body {
            font-family: 'Crimson Text', serif;
            background: var(--stone-dark);
            color: var(--amber-glow);
            overflow: hidden;
            cursor: none;
            position: relative;
            height: 100vh;
        }

        /* ENHANCED CUSTOM CURSOR WITH SMOLDERING EFFECT */
        #custom-cursor {
            position: fixed;
            width: 32px;
            height: 32px;
            pointer-events: none;
            z-index: 10000;
            mix-blend-mode: screen;
            transition: transform 0.1s ease;
        }

        .cursor-core {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 12px;
            height: 12px;
            background: radial-gradient(circle, var(--flame-core) 0%, var(--ember-bright) 35%, rgba(255, 153, 85, 0.6) 60%, transparent 100%);
            border-radius: 50%;
            box-shadow: 
                0 0 20px var(--ember-bright),
                0 0 40px rgba(255, 204, 136, 0.8),
                0 0 60px rgba(255, 153, 85, 0.5);
            animation: coreFlicker 0.15s infinite alternate;
        }

        @keyframes coreFlicker {
            0%, 100% { 
                opacity: 0.9; 
                transform: translate(-50%, -50%) scale(1);
                filter: blur(0.5px);
            }
            50% { 
                opacity: 1; 
                transform: translate(-50%, -50%) scale(1.2);
                filter: blur(0px);
            }
        }

        .cursor-trail {
            position: fixed;
            width: 10px;
            height: 10px;
            background: radial-gradient(circle, var(--ember-bright), rgba(255, 153, 85, 0.4), transparent);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: screen;
            animation: fadeTrail 1.5s ease-out forwards;
            box-shadow: 0 0 15px rgba(255, 153, 85, 0.6);
        }

        @keyframes fadeTrail {
            0% {
                opacity: 1;
                transform: scale(1);
                filter: blur(1px);
            }
            100% {
                opacity: 0;
                transform: scale(0.1);
                filter: blur(5px);
            }
        }

        /* DIGNIFIED MAROON BACKGROUND - TEXTURED DEPTH */
        .stone-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, 
                #4a1f1f 0%, 
                #5a2828 25%, 
                #6a3030 50%, 
                #5a2828 75%, 
                #4a1f1f 100%
            );
            background-size: 400% 400%;
            animation: backgroundShift 50s ease infinite;
        }

        @keyframes backgroundShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* RICH STONE TEXTURE WITH DEPTH */
        .stone-texture {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 1;
            background-image: 
                /* Fine grain texture */
                repeating-linear-gradient(0deg, transparent, transparent 1px, rgba(0,0,0,0.08) 1px, rgba(0,0,0,0.08) 2px),
                repeating-linear-gradient(90deg, transparent, transparent 1px, rgba(0,0,0,0.08) 1px, rgba(0,0,0,0.08) 2px),
                /* Medium stone grain */
                repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(60,45,35,0.2) 3px, rgba(60,45,35,0.2) 6px),
                repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(50,38,28,0.2) 3px, rgba(50,38,28,0.2) 6px),
                /* Depth texture */
                repeating-linear-gradient(30deg, transparent, transparent 2px, rgba(40,30,22,0.15) 2px, rgba(40,30,22,0.15) 4px),
                /* Organic variation */
                radial-gradient(ellipse 800px 600px at 30% 40%, rgba(70, 55, 40, 0.15) 0%, transparent 60%),
                radial-gradient(ellipse 700px 700px at 70% 60%, rgba(60, 45, 35, 0.12) 0%, transparent 60%);
        }

        /* GENTLE VIGNETTE FOR DEPTH */
        .vignette {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, transparent 0%, rgba(0,0,0,0.4) 100%);
            pointer-events: none;
        }

        /* DIVINE WRITING LAYER - BLACK, VISIBLE, POSITIONED IN OPEN SPACES */
        .writing-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 5;
        }

        .writing-svg {
            position: absolute;
            width: 100%;
            opacity: 0;
        }

        .writing-svg text {
            font-family: 'Great Vibes', cursive;
            font-size: 3.5rem;
            fill: none;
            stroke: rgba(0, 0, 0, 0.85);
            stroke-width: 1.5;
            stroke-linecap: round;
            stroke-linejoin: round;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
            font-style: italic;
            transform: rotate(-3deg);
        }

        .writing-1 {
            top: 5%;
            left: 5%;
            width: 50%;
            animation: revealWriting 25s ease-in-out infinite;
        }

        .writing-2 {
            top: 22%;
            right: 8%;
            width: 55%;
            animation: revealWriting 28s ease-in-out infinite;
            animation-delay: 8s;
        }

        .writing-2 text {
            transform: rotate(2deg);
        }

        .writing-3 {
            bottom: 25%;
            left: 10%;
            width: 45%;
            animation: revealWriting 26s ease-in-out infinite;
            animation-delay: 16s;
        }

        .writing-3 text {
            transform: rotate(-4deg);
        }

        .writing-4 {
            bottom: 8%;
            right: 5%;
            width: 50%;
            animation: revealWriting 30s ease-in-out infinite;
            animation-delay: 5s;
        }

        .writing-4 text {
            transform: rotate(1deg);
        }

        @keyframes revealWriting {
            0% { opacity: 0; }
            5% { opacity: 0.75; }
            85% { opacity: 0.75; }
            95% { opacity: 0; }
            100% { opacity: 0; }
        }

        .writing-svg text {
            stroke-dasharray: 2000;
            stroke-dashoffset: 2000;
        }

        .writing-1 text {
            animation: write 25s ease-in-out infinite;
        }

        .writing-2 text {
            animation: write 28s ease-in-out infinite;
            animation-delay: 8s;
        }

        .writing-3 text {
            animation: write 26s ease-in-out infinite;
            animation-delay: 16s;
        }

        .writing-4 text {
            animation: write 30s ease-in-out infinite;
            animation-delay: 5s;
        }

        @keyframes write {
            0% { stroke-dashoffset: 2000; }
            40% { stroke-dashoffset: 0; }
            85% { stroke-dashoffset: 0; }
            100% { stroke-dashoffset: -2000; }
        }

        /* ENHANCED FLOATING PARTICLES */
        .particles-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 8;
        }

        .particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: var(--amber-glow);
            border-radius: 50%;
            opacity: 0;
            animation: floatUp 20s linear infinite;
            box-shadow: 0 0 8px var(--amber-glow);
        }

        @keyframes floatUp {
            0% {
                opacity: 0;
                transform: translateY(0) translateX(0) rotate(0deg);
            }
            8% {
                opacity: 0.8;
            }
            92% {
                opacity: 0.3;
            }
            100% {
                opacity: 0;
                transform: translateY(-110vh) translateX(60px) rotate(180deg);
            }
        }

        /* ENHANCED CANDLELIGHT GLOW */
        .candle-glow {
            position: fixed;
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(255, 153, 85, 0.3) 0%, rgba(255, 153, 85, 0.15) 40%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            animation: candleFlicker 5s ease-in-out infinite;
            filter: blur(80px);
        }

        .candle-glow-left {
            top: 10%;
            left: 3%;
            animation-delay: 0s;
        }

        .candle-glow-right {
            bottom: 10%;
            right: 3%;
            animation-delay: 2.5s;
        }

        .candle-glow-center {
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 700px;
            height: 700px;
            animation-delay: 1.2s;
            opacity: 0.5;
        }

        @keyframes candleFlicker {
            0%, 100% { 
                opacity: 0.3; 
                transform: scale(1) translate(0, 0);
            }
            20% { 
                opacity: 0.5; 
                transform: scale(1.1) translate(8px, -8px);
            }
            40% { 
                opacity: 0.35; 
                transform: scale(0.92) translate(-5px, 5px);
            }
            60% { 
                opacity: 0.6; 
                transform: scale(1.08) translate(3px, -3px);
            }
            80% { 
                opacity: 0.4; 
                transform: scale(0.97) translate(-2px, 2px);
            }
        }

        /* MAIN CONTENT */
        .content {
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 3rem;
            text-align: center;
        }

        .title {
            font-family: 'Cinzel', serif;
            font-size: clamp(4rem, 12vw, 8rem);
            font-weight: 700;
            color: var(--amber-glow);
            text-transform: uppercase;
            letter-spacing: 0.35em;
            margin-bottom: 2rem;
            text-shadow: 
                0 0 40px rgba(212, 165, 116, 0.9),
                0 0 80px rgba(255, 153, 85, 0.5),
                4px 4px 8px rgba(0, 0, 0, 1);
            animation: titleGlow 6s ease-in-out infinite;
            filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 1));
        }

        @keyframes titleGlow {
            0%, 100% { 
                text-shadow: 
                    0 0 40px rgba(212, 165, 116, 0.9),
                    0 0 80px rgba(255, 153, 85, 0.5),
                    4px 4px 8px rgba(0, 0, 0, 1);
            }
            50% { 
                text-shadow: 
                    0 0 60px rgba(212, 165, 116, 1),
                    0 0 100px rgba(255, 153, 85, 0.7),
                    4px 4px 8px rgba(0, 0, 0, 1);
            }
        }

        .tagline {
            font-family: 'Crimson Text', serif;
            font-size: clamp(1.5rem, 4vw, 2.2rem);
            font-style: italic;
            color: var(--gold-accent);
            margin-bottom: 3.5rem;
            opacity: 0.95;
            text-shadow: 0 4px 16px rgba(0, 0, 0, 1);
            letter-spacing: 0.1em;
            animation: fadeInOut 7s ease-in-out infinite;
        }

        @keyframes fadeInOut {
            0%, 100% { opacity: 0.88; }
            50% { opacity: 1; }
        }

        .verse-container {
            max-width: 800px;
            margin: 3.5rem auto;
            padding: 3.5rem;
            background: rgba(29, 20, 16, 0.85);
            border: 3px solid rgba(212, 165, 116, 0.5);
            border-radius: 8px;
            position: relative;
            backdrop-filter: blur(20px);
            box-shadow: 
                0 16px 64px rgba(0, 0, 0, 0.9),
                inset 0 2px 0 rgba(212, 165, 116, 0.2),
                inset 0 -2px 0 rgba(0, 0, 0, 0.6);
            animation: pulseGlow 10s ease-in-out infinite;
        }

        @keyframes pulseGlow {
            0%, 100% {
                box-shadow: 
                    0 16px 64px rgba(0, 0, 0, 0.9),
                    inset 0 2px 0 rgba(212, 165, 116, 0.2),
                    inset 0 -2px 0 rgba(0, 0, 0, 0.6);
                border-color: rgba(212, 165, 116, 0.5);
            }
            50% {
                box-shadow: 
                    0 16px 64px rgba(212, 165, 116, 0.4),
                    inset 0 2px 0 rgba(212, 165, 116, 0.35),
                    inset 0 -2px 0 rgba(0, 0, 0, 0.6);
                border-color: rgba(212, 165, 116, 0.7);
            }
        }

        .verse-container::before,
        .verse-container::after {
            content: '';
            position: absolute;
            width: 60px;
            height: 60px;
            border: 3px solid var(--amber-glow);
            opacity: 0.6;
        }

        .verse-container::before {
            top: -3px;
            left: -3px;
            border-right: none;
            border-bottom: none;
        }

        .verse-container::after {
            bottom: -3px;
            right: -3px;
            border-left: none;
            border-top: none;
        }

        .verse-text {
            font-family: 'Crimson Text', serif;
            font-size: clamp(1.3rem, 3.5vw, 1.9rem);
            line-height: 2;
            color: var(--amber-glow);
            font-style: italic;
            margin-bottom: 2rem;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 1);
        }

        .verse-reference {
            font-family: 'Cinzel', serif;
            font-size: clamp(1.1rem, 2.5vw, 1.5rem);
            color: var(--gold-accent);
            text-transform: uppercase;
            letter-spacing: 0.3em;
            opacity: 0.95;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 1);
        }

        /* PRAYER MUSIC PLAYER */
        .audio-player {
            position: fixed;
            bottom: 3rem;
            right: 3rem;
            background: rgba(29, 20, 16, 0.95);
            border: 3px solid rgba(212, 165, 116, 0.5);
            border-radius: 12px;
            padding: 2rem;
            backdrop-filter: blur(20px);
            box-shadow: 0 16px 64px rgba(0, 0, 0, 0.9);
            z-index: 100;
            min-width: 340px;
        }

        .audio-title {
            font-family: 'Cinzel', serif;
            font-size: 1.1rem;
            color: var(--amber-glow);
            margin-bottom: 1.5rem;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 1);
        }

        .audio-controls {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .play-button {
            width: 52px;
            height: 52px;
            background: linear-gradient(135deg, var(--maroon-deep), var(--stone-base));
            border: 3px solid var(--amber-glow);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: none;
            transition: all 0.5s ease;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.8);
        }

        .play-button:hover {
            background: linear-gradient(135deg, var(--maroon-deep), var(--amber-glow));
            box-shadow: 0 10px 28px rgba(212, 165, 116, 0.6);
            transform: scale(1.1);
        }

        .play-button svg {
            width: 20px;
            height: 20px;
            fill: var(--amber-glow);
        }

        .volume-container {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 1.2rem;
        }

        .volume-icon {
            width: 24px;
            height: 24px;
            fill: var(--gold-accent);
        }

        .volume-slider {
            flex: 1;
            height: 8px;
            background: rgba(212, 165, 116, 0.3);
            border-radius: 4px;
            position: relative;
            cursor: none;
        }

        .volume-slider::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: var(--volume, 70%);
            background: linear-gradient(90deg, var(--ember-bright), var(--gold-accent));
            border-radius: 4px;
            box-shadow: 0 0 12px rgba(212, 165, 116, 0.8);
        }

        .track-info {
            font-family: 'Crimson Text', serif;
            font-size: 1rem;
            color: var(--gold-accent);
            opacity: 0.85;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(212, 165, 116, 0.3);
            text-align: center;
        }

        /* ENTER BUTTON */
        .enter-button {
            margin-top: 4.5rem;
            padding: 1.8rem 4.5rem;
            background: linear-gradient(135deg, rgba(74, 31, 31, 0.95), rgba(45, 36, 25, 0.95));
            border: 4px solid var(--amber-glow);
            border-radius: 8px;
            color: var(--amber-glow);
            font-family: 'Cinzel', serif;
            font-size: 1.4rem;
            text-transform: uppercase;
            letter-spacing: 0.3em;
            cursor: none;
            transition: all 0.6s ease;
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.8),
                inset 0 2px 0 rgba(212, 165, 116, 0.3);
            position: relative;
            overflow: hidden;
        }

        .enter-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, rgba(212, 165, 116, 0.6), transparent);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.8s ease, height 0.8s ease;
        }

        .enter-button:hover {
            background: linear-gradient(135deg, rgba(74, 31, 31, 1), rgba(65, 55, 45, 1));
            box-shadow: 
                0 16px 56px rgba(212, 165, 116, 0.6),
                inset 0 2px 0 rgba(212, 165, 116, 0.5);
            transform: translateY(-4px);
        }

        .enter-button:hover::before {
            width: 500px;
            height: 500px;
        }

        .enter-button span {
            position: relative;
            z-index: 1;
        }

        /* AMBIENT SOUND INDICATOR */
        .sound-indicator {
            position: fixed;
            bottom: 3rem;
            left: 3rem;
            display: flex;
            gap: 0.6rem;
            align-items: center;
            padding: 1.2rem 2rem;
            background: rgba(29, 20, 16, 0.9);
            border: 2px solid rgba(212, 165, 116, 0.4);
            border-radius: 10px;
            backdrop-filter: blur(15px);
            box-shadow: 0 10px 32px rgba(0, 0, 0, 0.7);
        }

        .sound-wave-indicator {
            width: 5px;
            height: 24px;
            background: var(--amber-glow);
            border-radius: 3px;
            animation: soundBounce 1.4s ease-in-out infinite;
            box-shadow: 0 0 8px var(--amber-glow);
        }

        .sound-wave-indicator:nth-child(1) { animation-delay: 0s; }
        .sound-wave-indicator:nth-child(2) { animation-delay: 0.25s; }
        .sound-wave-indicator:nth-child(3) { animation-delay: 0.5s; }
        .sound-wave-indicator:nth-child(4) { animation-delay: 0.75s; }

        @keyframes soundBounce {
            0%, 100% { height: 14px; opacity: 0.6; }
            50% { height: 28px; opacity: 1; }
        }

        .sound-label {
            font-family: 'Crimson Text', serif;
            color: var(--gold-accent);
            font-size: 1rem;
            margin-left: 0.6rem;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .audio-player {
                bottom: 2rem;
                right: 2rem;
                left: 2rem;
                min-width: auto;
            }
            
            .sound-indicator {
                bottom: 2rem;
                left: 2rem;
                padding: 1rem 1.5rem;
            }
            
            .content {
                padding: 2rem 1.5rem;
            }
            
            .verse-container {
                padding: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Custom Cursor -->
    <div id="custom-cursor">
        <div class="cursor-core"></div>
    </div>

    <!-- Stone Background Layers -->
    <div class="stone-background"></div>
    <div class="stone-texture"></div>
    <div class="vignette"></div>

    <!-- Divine Writing Being Penned -->
    <div class="writing-layer">
        <svg class="writing-svg writing-1" viewBox="0 0 1400 100" xmlns="http://www.w3.org/2000/svg">
            <text x="50%" y="50" text-anchor="middle" dominant-baseline="middle">Write the vision and make it plain on tablets...</text>
        </svg>
        <svg class="writing-svg writing-2" viewBox="0 0 1400 100" xmlns="http://www.w3.org/2000/svg">
            <text x="50%" y="50" text-anchor="middle" dominant-baseline="middle">For the word of the Lord is living and active...</text>
        </svg>
        <svg class="writing-svg writing-3" viewBox="0 0 1400 100" xmlns="http://www.w3.org/2000/svg">
            <text x="50%" y="50" text-anchor="middle" dominant-baseline="middle">Let this be written for a future generation...</text>
        </svg>
        <svg class="writing-svg writing-4" viewBox="0 0 1400 100" xmlns="http://www.w3.org/2000/svg">
            <text x="50%" y="50" text-anchor="middle" dominant-baseline="middle">That a people not yet created may praise the Lord...</text>
        </svg>
    </div>

    <!-- Candlelight Glow -->
    <div class="candle-glow candle-glow-left"></div>
    <div class="candle-glow candle-glow-right"></div>
    <div class="candle-glow candle-glow-center"></div>

    <!-- Floating Particles -->
    <div class="particles-container" id="particles"></div>

    <!-- Ambient Sound Indicator -->
    <div class="sound-indicator">
        <div class="sound-wave-indicator"></div>
        <div class="sound-wave-indicator"></div>
        <div class="sound-wave-indicator"></div>
        <div class="sound-wave-indicator"></div>
        <span class="sound-label">Sacred Ambience</span>
    </div>

    <!-- Main Content -->
    <div class="content">
        <h1 class="title">Chronicle</h1>
        <p class="tagline">An App for God's Best Scribes</p>

        <div class="verse-container">
            <p class="verse-text">
                "Write down the revelation and make it plain on tablets,
                so that a herald may run with it."
            </p>
            <p class="verse-reference">Habakkuk 2:2</p>
        </div>

        <button class="enter-button">
            <span>Enter the Chamber</span>
        </button>
    </div>

    <!-- Prayer Music Player -->
    <div class="audio-player">
        <div class="audio-title">Prayer Music</div>
        <div class="audio-controls">
            <button class="play-button" id="playBtn">
                <svg id="playIcon" viewBox="0 0 24 24">
                    <path d="M8 5v14l11-7z"/>
                </svg>
                <svg id="pauseIcon" viewBox="0 0 24 24" style="display: none;">
                    <path d="M6 4h4v16H6zm8 0h4v16h-4z"/>
                </svg>
            </button>
            <div class="volume-container">
                <svg class="volume-icon" viewBox="0 0 24 24">
                    <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                </svg>
                <div class="volume-slider" id="volumeSlider"></div>
            </div>
        </div>
        <div class="track-info" id="trackInfo">Prayer Song 1</div>
    </div>

    <!-- Audio Elements - Fixed Implementation -->
    <audio id="prayerMusic" loop>
        <!-- Add your prayer music file here -->
        <!-- <source src="prayersong1.mp3" type="audio/mpeg"> -->
    </audio>
    <audio id="ambientSound" loop>
        <!-- Soft ambient crackling/atmosphere sound -->
        <!-- <source src="ambient-crackling.mp3" type="audio/mpeg"> -->
    </audio>

    <script>
        // ===== CUSTOM CURSOR WITH ENHANCED SMOLDERING TRAIL =====
        const cursor = document.getElementById('custom-cursor');
        const trailContainer = document.body;
        let lastTrailTime = 0;
        const trailInterval = 25;

        document.addEventListener('mousemove', (e) => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';

            const now = Date.now();
            if (now - lastTrailTime > trailInterval) {
                createTrail(e.clientX, e.clientY);
                lastTrailTime = now;
            }
        });

        function createTrail(x, y) {
            const trail = document.createElement('div');
            trail.className = 'cursor-trail';
            trail.style.left = x + 'px';
            trail.style.top = y + 'px';
            trailContainer.appendChild(trail);
            setTimeout(() => trail.remove(), 1500);
        }

        // ===== ENHANCED FLOATING PARTICLES =====
        const particlesContainer = document.getElementById('particles');
        function createParticle() {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (18 + Math.random() * 12) + 's';
            particlesContainer.appendChild(particle);
        }

        for (let i = 0; i < 60; i++) {
            createParticle();
        }

        // ===== AUDIO SYSTEM - FIXED =====
        const playBtn = document.getElementById('playBtn');
        const playIcon = document.getElementById('playIcon');
        const pauseIcon = document.getElementById('pauseIcon');
        const volumeSlider = document.getElementById('volumeSlider');
        const prayerMusic = document.getElementById('prayerMusic');
        const ambientSound = document.getElementById('ambientSound');

        let currentVolume = 70;
        let audioUnlocked = false;

        // Initialize volume
        prayerMusic.volume = currentVolume / 100;
        ambientSound.volume = 0.3; // Ambient is quieter
        volumeSlider.style.setProperty('--volume', currentVolume + '%');

        // Unlock audio on first user interaction (required by browsers)
        function unlockAudio() {
            if (!audioUnlocked) {
                // Try to play and immediately pause to unlock audio context
                const playPromise = ambientSound.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        // Audio unlocked
                        audioUnlocked = true;
                        console.log('Audio context unlocked');
                    }).catch(err => {
                        console.log('Waiting for user interaction to unlock audio');
                    });
                }
            }
        }

        // Unlock on any user interaction
        document.addEventListener('click', unlockAudio, { once: true });
        document.addEventListener('touchstart', unlockAudio, { once: true });

        // Prayer music play/pause
        playBtn.addEventListener('click', () => {
            if (prayerMusic.paused) {
                const playPromise = prayerMusic.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        playIcon.style.display = 'none';
                        pauseIcon.style.display = 'block';
                    }).catch(err => {
                        console.log('Playback prevented:', err);
                        alert('Please interact with the page first to enable audio');
                    });
                }
            } else {
                prayerMusic.pause();
                playIcon.style.display = 'block';
                pauseIcon.style.display = 'none';
            }
        });

        // Volume control
        volumeSlider.addEventListener('click', (e) => {
            const rect = volumeSlider.getBoundingClientRect();
            const percent = ((e.clientX - rect.left) / rect.width) * 100;
            currentVolume = Math.max(0, Math.min(100, percent));
            volumeSlider.style.setProperty('--volume', currentVolume + '%');
            prayerMusic.volume = currentVolume / 100;
        });

        // Auto-start ambient sound after first interaction
        let ambientStarted = false;
        document.addEventListener('click', () => {
            if (!ambientStarted && audioUnlocked) {
                ambientSound.play().catch(err => {
                    console.log('Ambient sound blocked by browser');
                });
                ambientStarted = true;
            }
        }, { once: true });

        // ===== INTERACTIVE ELEMENTS =====
        const interactiveElements = document.querySelectorAll('.play-button, .enter-button, .volume-slider');
        interactiveElements.forEach(el => {
            el.addEventListener('mouseenter', () => {
                cursor.style.transform = 'scale(1.6)';
            });
            el.addEventListener('mouseleave', () => {
                cursor.style.transform = 'scale(1)';
            });
        });

        // ===== ENTER BUTTON =====
        const enterBtn = document.querySelector('.enter-button');
        enterBtn.addEventListener('click', () => {
            console.log('Entering Chronicle...');
            // Navigate to main app
            window.location.href = 'chronicle-app.html';
        });

        // ===== DYNAMIC CANDLELIGHT MOVEMENT =====
        setInterval(() => {
            const glowLeft = document.querySelector('.candle-glow-left');
            const glowRight = document.querySelector('.candle-glow-right');
            
            const randomXLeft = 2 + Math.random() * 8;
            const randomYLeft = 8 + Math.random() * 12;
            glowLeft.style.left = randomXLeft + '%';
            glowLeft.style.top = randomYLeft + '%';
            
            const randomXRight = 90 + Math.random() * 8;
            const randomYRight = 80 + Math.random() * 12;
            glowRight.style.right = (100 - randomXRight) + '%';
            glowRight.style.bottom = (100 - randomYRight) + '%';
        }, 10000);
    </script>
</body>
</html>
